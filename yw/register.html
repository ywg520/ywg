<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>注册模块</title>
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<!-- 新 Bootstrap5 核心 CSS 文件 -->
		<link rel="stylesheet" href="https://cdn.staticfile.net/twitter-bootstrap/5.1.1/css/bootstrap.min.css">
		 
		<!-- 最新的 Bootstrap5 核心 JavaScript 文件 -->
		<script src="https://cdn.staticfile.net/twitter-bootstrap/5.1.1/js/bootstrap.bundle.min.js"></script>
		<style>
			* {margin:0;padding:0;box-sizing:border-box;font-family:"Microsoft YaHei",sans-serif;}
			        body {background:#f5f5f5;padding:20px;}
			        .panel {background:white;padding:20px;border-radius:8px;max-width:400px;margin:30px auto;}
			        .panel h2 {border-left:3px solid #3498db;padding-left:10px;margin-bottom:20px;}
			        .form-group {margin-bottom:15px;}
			        .form-group label {display:block;margin-bottom:5px;}
			        .form-control {width:100%;padding:8px;border:1px solid #ddd;border-radius:4px;}
			        .btn {padding:8px 16px;border:none;border-radius:4px;background:#3498db;color:white;cursor:pointer;}
			        .link {margin-top:15px;}
			        .link a {color:#3498db;text-decoration:none;}
		</style>
		<script>
			function register(){
				name=document.getElementById("reg-name").value
				phone=document.getElementById("reg-phone").value
				pwd=document.getElementById("reg-pwd").value
				idcard=document.getElementById("reg-idcard").value
				uagree=document.getElementById("agree").checked
				nameReg=/^[\u4e00-\u9fa5]{2,6}$/;
				phoneReg=/^[0-9]{11}$/;
				pwdReg=/^[a-zA-Z0-9]{6,20}$/;
				idcardReg=/^[0-9]{18}$/;
				if(!nameReg.test(name)){
					document.getElementById("nametip").innerText="请输入正确的名字"
				}else { 
					document.getElementById("nametip").innerText = "";
				}
				if(!phoneReg.test(phone)){
					document.getElementById("phonetip").innerText="请输入正确格式的手机号"
				}else { 
					document.getElementById("phonetip").innerText = "";
				}
				if(!pwdReg.test(pwd)){
					document.getElementById("pwdtip").innerText="请输入正确格式的密码"
				}else { 
					document.getElementById("pwdtip").innerText = "";
				}
				if(!idcardReg.test(idcard)){
					document.getElementById("idcardtip").innerText="请输入真实的身份证信息"
				}else { 
					document.getElementById("idcardtip").innerText = "";
				}
				if(!uagree){
					document.getElementById("agreetip").innerText="请勾选协议政策"
				}else { 
					document.getElementById("agreetip").innerText = "";
				}
				if(nameReg.test(name) && phoneReg.test(phone) && pwdReg.test(pwd) && idcardReg.test(idcard) && uagree){
					alert("注册成功！即将进入系统首页");
					window.location.href="index.html";
				}
				if(nameReg.test(name) && phoneReg.test(phone) && pwdReg.test(pwd) && idcardReg.test(idcard) && uagree){
				    // 存储用户状态，与登录保持一致
				    sessionStorage.setItem('ticketSystemUser', phone); // 使用手机号作为标识
				    alert("注册成功！即将进入系统首页");
				    window.location.href = "index.html"; // 跳转到首页功能区
				}
			}
		</script>
	</head>
	<body>
			 <div class="panel">
			        <h2>用户注册</h2>
			        <div class="form-group">
						<label>名字</label>
			            <input type="text" class="form-control" id="reg-name"  placeholder="请输入真实的名字"><span id="nametip" style="color: red;"></span><br>
			        </div>
			        <div class="form-group">
						<label>手机号</label>
			            <input type="text" class="form-control" id="reg-phone" placeholder="11位数字"><span id="phonetip" style="color: red;"></span><br>
			        </div>
			        <div class="form-group">
						<label>密码</label>
			            <input type="password" class="form-control" id="reg-pwd" placeholder="6-20位字母+数字"><span id="pwdtip" style="color: red;"></span><br>
			        </div>
			        <div class="form-group">
						<label>身份证号</label>
			            <input type="text" class="form-control" id="reg-idcard"  placeholder="18位数字"><span id="idcardtip" style="color: red;"></span><br>
			        </div>
			        <div class="form-group">
			            <input type="checkbox" id="agree"><span id="agreetip" style="color: red;"></span><br>
			            <label for="agree">同意注册协议和隐私政策</label>
			        </div>
			        <button class="btn" onclick="register()">注册</button>
			        <div class="link">
						已有账号？
						<a href="login.html">去登录</a></div>
			    </div>
		</div>
	</body>
</html>